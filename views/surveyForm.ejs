<%- include ('partials/header') %>
<%- include ('partials/main_nav') %>
<body>
    <main class="container">
       <div class="class">
        <h1 class="my-4"><%= survey ? 'Edit Survey' : 'Create Survey' %></h1>
        <form action="<%= formAction %>" method="POST">
            <div class="mb-3">
                <label for="name" class="form-label">Survey Name</label>
                <input type="text" class="form-control" id="name" name="name" value="<%= survey ? survey.name : '' %>" required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" name="email" value="<%= survey ? survey.email : '' %>" required>
            </div>
            <div class="mb-3">
                <label for="yearOfStudy" class="form-label">Year of Study</label>
                <input type="text" class="form-control" id="yearOfStudy" name="yearOfStudy" value="<%= survey ? survey.yearOfStudy : '' %>">
            </div>
            <div class="mb-3">
                <label for="program" class="form-label">Program</label>
                <input type="text" class="form-control" id="program" name="program" value="<%= survey ? survey.program : '' %>">
            </div>
            <div class="mb-3">
                <label class="form-label">Applications Learned</label>
                <div>
                    <% const apps = ['App1', 'App2', 'App3']; %>
                    <% apps.forEach(function(app) { %>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="applicationsLearned" value="<%= app %>" 
                            <%= survey && survey.applicationsLearned.includes(app) ? 'checked' : '' %>>
                            <label class="form-check-label"><%= app %></label>
                        </div>
                    <% }); %>
                </div>
            </div>
            <div class="mb-3">
                <label for="recommendation" class="form-label">Recommendation</label>
                <input type="number" class="form-control" id="recommendation" name="recommendation" value="<%= survey ? survey.recommendation : '' %>" min="1" max="10" required>
            </div>
            <div class="mb-3">
                <label for="additionalComments" class="form-label">Additional Comments</label>
                <textarea class="form-control" id="additionalComments" name="additionalComments" rows="4"><%= survey ? survey.additionalComments : '' %></textarea>
            </div>
            <button type="submit" class="btn btn-primary"><%= survey ? 'Update Survey' : 'Create Survey' %></button>
        </form>
    </main>

<%- include ('partials/footer') %>
